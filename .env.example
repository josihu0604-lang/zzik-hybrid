# ============================================
# ZZIK Hybrid - Environment Variables
# ============================================
# 이 파일을 .env.local로 복사하여 사용하세요:
# cp .env.example .env.local
#
# PRIORITY LEVELS:
# [REQUIRED] - 필수 (없으면 빌드/실행 실패)
# [OPTIONAL] - 선택 (특정 기능에만 필요)
# [INTERNAL] - 내부 설정 (기본값 사용 권장)
# ============================================

# ============================================
# 1. SUPABASE [REQUIRED]
# ============================================
# Database, Auth, Storage
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# 2. MAPBOX [REQUIRED]
# ============================================
# 지도 시각화 (Public Token만 필수)
NEXT_PUBLIC_MAPBOX_TOKEN=pk.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# 3. GEMINI AI [OPTIONAL]
# ============================================
# Vibe Analysis, AI 추천 기능
GEMINI_API_KEY=your-gemini-api-key

# ============================================
# 4. KAKAO [OPTIONAL]
# ============================================
# 소셜 로그인 및 지도/장소 데이터
NEXT_PUBLIC_KAKAO_APP_KEY=your-kakao-app-key
KAKAO_REST_API_KEY=your-kakao-rest-api-key

# ============================================
# 5. WEB PUSH NOTIFICATIONS [OPTIONAL]
# ============================================
# VAPID 키 생성: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:your-email@example.com

# ============================================
# 6. SENTRY ERROR MONITORING [OPTIONAL]
# ============================================
# Error tracking and performance monitoring
# Get your DSN from: https://sentry.io/settings/projects/
NEXT_PUBLIC_SENTRY_DSN=https://your-public-key@o12345.ingest.sentry.io/67890

# Sentry organization and project (for CI/CD source map uploads)
SENTRY_ORG=your-organization-slug
SENTRY_PROJECT=your-project-name

# Sentry auth token (for uploading source maps in CI/CD)
# Generate at: https://sentry.io/settings/account/api/auth-tokens/
# Required scopes: project:releases, org:read
SENTRY_AUTH_TOKEN=your-auth-token

# ============================================
# 7. GOOGLE ANALYTICS [OPTIONAL]
# ============================================
# 사용자 분석
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================
# 8. APPLICATION SETTINGS
# ============================================
# Base URL (Vercel에서 자동 설정됨)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Mobile Development (모바일 개발용)
# Set to true for mobile dev with live reload
CAPACITOR_DEV=false
# Custom server URL for real devices (실제 기기용 서버 주소)
# Run `pnpm mobile:setup` to get your local IP
# Example: CAPACITOR_SERVER_URL=http://192.168.1.10:3000
CAPACITOR_SERVER_URL=

# Build-time flags
NODE_ENV=development
SKIP_ENV_VALIDATION=false

# ============================================
# 9. FEATURE FLAGS [OPTIONAL]
# ============================================
# 데모 모드 활성화 (Supabase 없이 테스트)
ENABLE_DEMO_MODE=false
NEXT_PUBLIC_ENABLE_DEMO_MODE=false

# 게스트 참여 허용
ALLOW_GUEST_PARTICIPATION=true

# ============================================
# 10. SECURITY [REQUIRED IN PRODUCTION]
# ============================================
# Internal API 시크릿 (서버 간 통신용, 32자 이상)
# 생성: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
INTERNAL_API_SECRET=your-internal-api-secret-min-32-chars

# CAPTCHA 설정 (reCAPTCHA v3 또는 hCaptcha)
CAPTCHA_SECRET_KEY=
CAPTCHA_PROVIDER=recaptcha
RECAPTCHA_MIN_SCORE=0.5
NEXT_PUBLIC_CAPTCHA_SITE_KEY=

# CORS 설정 (API 허용 오리진, 쉼표로 구분)
# 예: CORS_ALLOWED_ORIGINS=https://app1.example.com,https://app2.example.com
# 기본값: localhost (개발), *.vercel.app, zzik.app (프로덕션)
CORS_ALLOWED_ORIGINS=

# ============================================
# 11. RATE LIMITING [INTERNAL]
# ============================================
# Redis (Upstash) - 프로덕션 레이트 리미팅
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ============================================
# 12. DEBUG FLAGS [INTERNAL]
# ============================================
# 개발 시 디버그 로그 활성화
DEBUG_ANALYTICS=false
DEBUG_CSRF=false
DEBUG_GEMINI=false
DEBUG_OFFLINE=false
DEBUG_PERFORMANCE=false
DEBUG_VERIFICATION=false

# ============================================
# 13. API CONFIGURATION [INTERNAL]
# ============================================
# 기본값이 설정되어 있으므로 수정 불필요
# API_TIMEOUT_MS=30000
# API_RETRIES=3
# API_RETRY_DELAY_MS=1000
# API_CACHE_TTL_MS=60000

# ============================================
# 14. GPS & VERIFICATION [INTERNAL]
# ============================================
# 기본값이 설정되어 있으므로 수정 불필요
# GPS_MAX_RANGE_METERS=100
# GPS_TIMEOUT_MS=10000
# GPS_HIGH_ACCURACY=true
# VERIFICATION_PASS_THRESHOLD=0.7

# ============================================
# 15. LEADER SYSTEM [INTERNAL]
# ============================================
# 리더 시스템 설정
# MIN_PAYOUT_AMOUNT=10000
# PAYOUT_PROCESSING_DAYS=3
# REFERRAL_CODE_LENGTH=8

# ============================================
# DEPRECATED / REMOVED
# ============================================
# 아래 환경변수들은 현재 사용되지 않습니다:
# - DATABASE_URL (Supabase SDK 사용)
# - SUPABASE_ACCESS_TOKEN (CLI 전용, 런타임 불필요)
# - VERCEL_TOKEN (Vercel CLI 전용, 런타임 불필요)
# - TOSS_* (구현 예정)
# - KFTC_* (구현 예정)
# - MAPBOX_SECRET_KEY (현재 미사용)
